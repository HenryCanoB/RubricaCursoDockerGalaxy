(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{821:(e,a,c)=>{Promise.resolve().then(c.bind(c,1643))},1643:(e,a,c)=>{"use strict";c.r(a),c.d(a,{default:()=>o});var t=c(5155),s=c(2115),n=c(4752),i=c.n(n),r=c(3464);let l=c(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:8086/api/producto";async function d(e,a){return await r.A.put("".concat(l,"/").concat(e),a)}function o(){let[e,a]=(0,s.useState)([]),[c,n]=(0,s.useState)({descripcion:"",precio:0,cantidad:0,activo:!0}),[o,m]=(0,s.useState)(!1),[u,h]=(0,s.useState)(null),x=async()=>{a((await r.A.get(l)).data)},j=async()=>{if((c.descripcion.trim()||(i().fire("Campo requerido","Debe ingresar una descripci\xf3n","warning"),0))&&(await i().fire({title:o?"\xbfActualizar producto?":"\xbfGuardar producto?",icon:"question",showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"Cancelar"})).isConfirmed){if(o&&null!==u)await d(u,c),i().fire("Actualizado","Producto actualizado correctamente","success");else await r.A.post(l,c),i().fire("Guardado","Producto registrado correctamente","success");n({descripcion:"",precio:0,cantidad:0,activo:!0}),m(!1),h(null),x()}},p=async e=>{e&&(await i().fire({title:"\xbfEliminar producto?",text:"Esta acci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&(await r.A.delete("".concat(l,"/").concat(e)),i().fire("Eliminado","Producto eliminado correctamente","success"),x())};return(0,s.useEffect)(()=>{x()},[]),(0,t.jsxs)("div",{className:"container mt-5",children:[(0,t.jsx)("h1",{className:"mb-4 text-center",children:"Gesti\xf3n de Productos MODIFICADO"}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-5",children:(0,t.jsxs)("div",{className:"card mb-4",children:[(0,t.jsx)("div",{className:"card-header",children:o?"Editar Producto":"Registrar Producto"}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label",children:"Descripci\xf3n"}),(0,t.jsx)("input",{className:"form-control",placeholder:"Descripci\xf3n",value:c.descripcion,onChange:e=>n({...c,descripcion:e.target.value})})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label",children:"Precio"}),(0,t.jsx)("input",{className:"form-control",placeholder:"Precio",type:"number",value:c.precio,onChange:e=>n({...c,precio:parseFloat(e.target.value)})})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label",children:"Cantidad"}),(0,t.jsx)("input",{className:"form-control",placeholder:"Cantidad",type:"number",value:c.cantidad,onChange:e=>n({...c,cantidad:parseInt(e.target.value)})})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label",children:"Activo"}),(0,t.jsxs)("select",{className:"form-select",value:String(c.activo),onChange:e=>n({...c,activo:"true"===e.target.value}),children:[(0,t.jsx)("option",{value:"true",children:"S\xed"}),(0,t.jsx)("option",{value:"false",children:"No"})]})]}),(0,t.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,t.jsx)("button",{className:"btn btn-primary",onClick:j,children:o?"Actualizar":"Guardar"}),o&&(0,t.jsx)("button",{className:"btn btn-secondary",onClick:()=>{n({descripcion:"",precio:0,cantidad:0,activo:!0}),m(!1),h(null)},children:"Cancelar"})]})]})]})}),(0,t.jsx)("div",{className:"col-md-7",children:(0,t.jsxs)("table",{className:"table table-bordered table-striped",children:[(0,t.jsx)("thead",{className:"table-dark",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-center",children:"C\xf3digo"}),(0,t.jsx)("th",{className:"text-center",children:"Descripci\xf3n"}),(0,t.jsx)("th",{className:"text-center",children:"Precio"}),(0,t.jsx)("th",{className:"text-center",children:"Cantidad"}),(0,t.jsx)("th",{className:"text-center",children:"Estado"}),(0,t.jsx)("th",{className:"text-center",children:"Acciones"})]})}),(0,t.jsxs)("tbody",{children:[e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.codigo}),(0,t.jsx)("td",{children:e.descripcion}),(0,t.jsxs)("td",{className:"text-end",children:["S/ ",e.precio.toFixed(2)]}),(0,t.jsx)("td",{className:"text-end",children:e.cantidad}),(0,t.jsx)("td",{className:"text-center",children:(0,t.jsx)("span",{className:"badge ".concat(e.activo?"bg-success":"bg-danger"),children:e.activo?"Activo":"Inactivo"})}),(0,t.jsxs)("td",{className:"text-center",children:[(0,t.jsx)("button",{className:"btn btn-sm btn-warning me-2",onClick:()=>{var a;n(e),m(!0),h(null!=(a=e.codigo)?a:null)},children:"Editar"}),(0,t.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>p(e.codigo),children:"Eliminar"})]})]},e.codigo)),0===e.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"text-center",children:"No hay productos registrados."})})]})]})})]})]})}}},e=>{e.O(0,[320,464,441,964,358],()=>e(e.s=821)),_N_E=e.O()}]);